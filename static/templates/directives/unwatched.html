<div class="row">
    <div class="col-xs-12">
        <div class="page-header">
            <h1 ng-if="!watched">Unwatched Episodes</h1>
            <h1 ng-if="watched">Watched Episodes</h1>
        </div>
    </div>

    <div class="col-lg-3">
        <div class="card">
            <ul class="nav nav-pills nav-stacked">
                <li ng-repeat="show in shows | orderByName track by show.id" ng-class="{active: show.active}"><a ng-click="getSeasons(show.id)">{{ ::show.name }}</a></li>
            </ul>
        </div>
    </div>

    <div class="col-lg-2">
        <div class="card">
            <ul class="nav nav-pills nav-stacked">
                <li ng-repeat="season in seasons | orderBy: 'season'" ng-class="{active: season.active}"><a ng-click="getEpisodes(getActiveShow().id, season.season)">Season {{ ::season.season }}</a></li>
            </ul>
        </div>
    </div>

    <div class="col-lg-7">
        <div class="card">
            <h2 class="pull-left">{{ getActiveShow().name }} <small>Season {{ getActiveSeason().season }}</small></h2>
            <div class="mark-watched" ng-if="episodes.length > 1 || seasons.length > 1">
                <p class="text-right" ng-if="episodes.length > 1"><a ng-click="markSeasonWatched()">Mark all episodes of <em>Season {{ getActiveSeason().season }}</em> of <em>{{ getActiveShow().name }}</em> as {{ ::watched_text }}.</a></p>
                <p class="text-right" ng-if="seasons.length > 1"><a ng-click="markShowWatched()">Mark <strong>all episodes</strong> of <em>{{ getActiveShow().name }}</em> as {{ ::watched_text }}.</a></p>
            </div>
            <table class="table table-condensed table-striped table-hover">
                <thead>
                <tr>
                    <th>Nr</th>
                    <th>Title</th>
                    <th>Airdate</th>
                    <th>{{ ::watched_text_cap }}</th>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="episode in episodes | orderBy: 'episode'">
                        <td>{{ ::episode.episode }}</td>
                        <td>{{ ::episode.title }}</td>
                        <td>{{ ::episode.airdate | date: dateFormat }}</td>
                        <td><span class="glyphicon pointer glyphicon-remove text-danger" ng-click="markEpisodeWatched(episode)"></span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>